{# templates/twobeats_upload/video_detail.html #}
{% extends "base.html" %}

{% block content %}
  <div class="tb-detail-layout">
    <section class="tb-detail-main">
      <h1>{{ video.video_title }} - {{ video.video_singer }}</h1>

      <div class="tb-detail-meta">
        <span>{{ video.get_video_type_display }}</span>
        <span>시간: {{ video.video_time }}초</span>
        <span>조회수: {{ video.video_views }}</span>
      </div>
      
      <div class="tb-detail-tags">
        <strong>태그:</strong>
        {% for tag in video.tags.all %}
          <span>#{{ tag.name }}</span>
        {% empty %}
          <span>태그 없음</span>
        {% endfor %}
      </div>

      {% if video.video_detail %}
        <h3 style="margin-top:18px;">설명</h3>
        <p>{{ video.video_detail }}</p>
      {% endif %}
    </section>

    <aside>
      {% if video.video_thumbnail %}
        <img src="{{ video.video_thumbnail.url }}" alt="thumbnail"
             style="max-width:100%; border-radius:14px; margin-bottom:12px;">
      {% endif %}

      {% if video.video_root %}
        <video controls style="max-width:100%; display:block; border-radius:14px;">
          <source src="{{ video.video_root.url }}">
          브라우저가 video 태그를 지원하지 않습니다.
        </video>
      {% endif %}

      <p style="margin-top: 20px; font-size:0.85rem;">
        <a href="{% url 'twobeats_upload:video_update' video.pk %}">수정</a> |
        <a href="{% url 'twobeats_upload:video_delete' video.pk %}">삭제</a> |
        <a href="{% url 'twobeats_upload:video_list' %}">영상 리스트</a> |
        <a href="{% url 'twobeats_upload:music_list' %}">음악 리스트</a>
      </p>
    </aside>
  </div>
{% endblock %}
